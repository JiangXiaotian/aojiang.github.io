{"meta":{"version":1,"warehouse":"5.0.1"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"node_modules/hexo-theme-landscape/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.css","path":"fancybox/jquery.fancybox.min.css","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.js","path":"fancybox/jquery.fancybox.min.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/js/jquery-3.6.4.min.js","path":"js/jquery-3.6.4.min.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/js/script.js","path":"js/script.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"06ff45029fc8f8e2a28788054acaef56c88ebabe","modified":1743848046405},{"_id":"source/_posts/hello-world.md","hash":"7d98d6592de80fdcd2949bd7401cec12afd98cdf","modified":1743847943971},{"_id":"source/CNAME","hash":"a5bdbe44df5ed703c9842c79bf15b44b8a014cb2","modified":1743850448376},{"_id":"source/fileviewer/index.html","hash":"7b089dd217e27074b258cd9b58f14c21d452166f","modified":1743847994792},{"_id":"node_modules/hexo-theme-landscape/package.json","hash":"06889bee30e4c39479467021da434d3a6a0990fc","modified":1743847962519},{"_id":"node_modules/hexo-theme-landscape/README.md","hash":"6497b70356271fd6f9f1dc862353be844c457a53","modified":1743847962519},{"_id":"node_modules/hexo-theme-landscape/LICENSE","hash":"c480fce396b23997ee23cc535518ffaaf7f458f8","modified":1743847962398},{"_id":"node_modules/hexo-theme-landscape/_config.yml","hash":"a93d7b3990e45bc7247eecf01888f71674887a63","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/languages/de-DE.yml","hash":"d29d1c4256b7ed9df42f511c2ff0a23ad5fd6c1f","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/languages/de.yml","hash":"3ebf0775abbee928c8d7bda943c191d166ded0d3","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/languages/en-GB.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/languages/en-US.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/es-ES.yml","hash":"7008a8fc91f18d2a735864817b8ebda30c7a2c66","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/en.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/es.yml","hash":"76edb1171b86532ef12cfd15f5f2c1ac3949f061","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/fr-FR.yml","hash":"8d09dbdab00a30a2870b56f7c0a7ca7deafa7b88","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/fr.yml","hash":"415e1c580ced8e4ce20b3b0aeedc3610341c76fb","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/hu-HU.yml","hash":"712d18664898fa21ba38d4973e90ef41a324ea25","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/it-IT.yml","hash":"2cb6dc2fab9bd2dbe1c8bb869a9e8bf85a564fdd","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/hu.yml","hash":"284d557130bf54a74e7dcef9d42096130e4d9550","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/it.yml","hash":"89b7d91306b2c1a0f3ac023b657bf974f798a1e8","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/ja-JP.yml","hash":"08481267e0c112e1f6855620f2837ec4c4a98bbd","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/ja.yml","hash":"a73e1b9c80fd6e930e2628b393bfe3fb716a21a9","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/.DS_Store","hash":"a4864d8a19c1b3d695e11578aa20b7e105c0fc9d","modified":1743848051459},{"_id":"node_modules/hexo-theme-landscape/languages/ko-KR.yml","hash":"19209ad8f9d4057e8df808937f950eb265e1db69","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/ko.yml","hash":"881d6a0a101706e0452af81c580218e0bfddd9cf","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/mn-MN.yml","hash":"b9e5f3e7c0c2f779cf2cfded6db847b5941637ca","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/mn.yml","hash":"2e7523951072a9403ead3840ad823edd1084c116","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/nl-NL.yml","hash":"5ebbc30021f05d99938f96dfff280392df7f91f0","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/pt-PT.yml","hash":"0f852b6b228e6ea59aa3540574bb89b233f2a098","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/pt.yml","hash":"57d07b75d434fbfc33b0ddb543021cb5f53318a8","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/ru-RU.yml","hash":"360d11a28bb768afb1dd15f63fa7fd3a8cc547ee","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/th-TH.yml","hash":"ebfdba9bc4842c829473c1e6e4544344f182724d","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/th.yml","hash":"84a55b00aa01f03982be294e43c33a20e6d32862","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/tr.yml","hash":"a1cdbfa17682d7a971de8ab8588bf57c74224b5b","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/zh-CN.yml","hash":"1efd95774f401c80193eac6ee3f1794bfe93dc5a","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/languages/zh-TW.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1743847962521},{"_id":"node_modules/hexo-theme-landscape/layout/archive.ejs","hash":"97160b8111dd0283f8231408bcab4c87d31c1646","modified":1743847962403},{"_id":"node_modules/hexo-theme-landscape/layout/category.ejs","hash":"97160b8111dd0283f8231408bcab4c87d31c1646","modified":1743847962404},{"_id":"node_modules/hexo-theme-landscape/layout/index.ejs","hash":"57281fc3812c877ec2d8e89ec87ede57b9789d4c","modified":1743847962406},{"_id":"node_modules/hexo-theme-landscape/layout/layout.ejs","hash":"0d1765036e4874500e68256fedb7470e96eeb6ee","modified":1743847962406},{"_id":"node_modules/hexo-theme-landscape/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1743847962406},{"_id":"node_modules/hexo-theme-landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1743847962406},{"_id":"node_modules/hexo-theme-landscape/scripts/fancybox.js","hash":"c857d7a5e4a5d71c743a009c5932bf84229db428","modified":1743847962507},{"_id":"node_modules/hexo-theme-landscape/layout/tag.ejs","hash":"97160b8111dd0283f8231408bcab4c87d31c1646","modified":1743847962407},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/after-footer.ejs","hash":"1b89d0caba03a66a43d9c290a5e94fa438a89210","modified":1743847962398},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/archive-post.ejs","hash":"c7a71425a946d05414c069ec91811b5c09a92c47","modified":1743847962399},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/archive.ejs","hash":"0039146b8ccbdf9b9f8bee58fc6c238f0e9921fc","modified":1743847962399},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/article.ejs","hash":"e9d4678e14be5e3cd5e34d783e5af6d6626092f5","modified":1743847962403},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/footer.ejs","hash":"3656eb692254346671abc03cb3ba1459829e0dce","modified":1743847962405},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/google-analytics.ejs","hash":"2ea7442ea1e1a8ab4e41e26c563f58413b59a3d0","modified":1743847962405},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/gauges-analytics.ejs","hash":"21a1e2a3907d1a3dad1cd0ab855fe6735f233c74","modified":1743847962405},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/head.ejs","hash":"0e94f5722d4c44d3cc91be2f4fd30b9ab503b868","modified":1743847962405},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/header.ejs","hash":"6a5033d189554c9a6d42e2ef7952ae5c9742648e","modified":1743847962406},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/mobile-nav.ejs","hash":"e952a532dfc583930a666b9d4479c32d4a84b44e","modified":1743847962406},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/sidebar.ejs","hash":"930da35cc2d447a92e5ee8f835735e6fd2232469","modified":1743847962407},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/archive.ejs","hash":"beb4a86fcc82a9bdda9289b59db5a1988918bec3","modified":1743847962401},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/category.ejs","hash":"dd1e5af3c6af3f5d6c85dfd5ca1766faed6a0b05","modified":1743847962403},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/recent_posts.ejs","hash":"60c4b012dcc656438ff59997e60367e5a21ab746","modified":1743847962406},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/tag.ejs","hash":"2de380865df9ab5f577f7d3bcadf44261eb5faae","modified":1743847962407},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/tagcloud.ejs","hash":"b4a2079101643f63993dcdb32925c9b071763b46","modified":1743847962407},{"_id":"node_modules/hexo-theme-landscape/source/css/_variables.styl","hash":"ca28281423ae57d76b6c1eb91cd845fd4e518bd6","modified":1743847962519},{"_id":"node_modules/hexo-theme-landscape/source/css/_extend.styl","hash":"222fbe6d222531d61c1ef0f868c90f747b1c2ced","modified":1743847962519},{"_id":"node_modules/hexo-theme-landscape/source/css/style.styl","hash":"e55a1d92954ed20f6887f92dc727bb995a010a43","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/source/js/script.js","hash":"49773efcb2221bbdf2d86f3f5c5ff2d841b528cc","modified":1743847962519},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/category.ejs","hash":"c6bcd0e04271ffca81da25bcff5adf3d46f02fc0","modified":1743847962403},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/date.ejs","hash":"f1458584b679545830b75bef2526e2f3eb931045","modified":1743847962404},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/gallery.ejs","hash":"3d9d81a3c693ff2378ef06ddb6810254e509de5b","modified":1743847962405},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/nav.ejs","hash":"16a904de7bceccbb36b4267565f2215704db2880","modified":1743847962406},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/tag.ejs","hash":"2fcb0bf9c8847a644167a27824c9bb19ac74dd14","modified":1743847962407},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/title.ejs","hash":"4d7e62574ddf46de9b41605fe3140d77b5ddb26d","modified":1743847962407},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.css","hash":"1be9b79be02a1cfc5d96c4a5e0feb8f472babd95","modified":1743847962398},{"_id":"node_modules/hexo-theme-landscape/source/css/_util/grid.styl","hash":"0bf55ee5d09f193e249083602ac5fcdb1e571aed","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/source/css/_util/mixin.styl","hash":"44f32767d9fd3c1c08a60d91f181ee53c8f0dbb3","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/archive.styl","hash":"db15f5677dc68f1730e82190bab69c24611ca292","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/article.styl","hash":"f608400a08cf137ab15ec1f44bac551950afe879","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/comment.styl","hash":"79d280d8d203abb3bd933ca9b8e38c78ec684987","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/footer.styl","hash":"e35a060b8512031048919709a8e7b1ec0e40bc1b","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/highlight.styl","hash":"9cc3b2927d814f2f6e8e188f9d3657b94f4c6ef3","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/header.styl","hash":"268d2989acb06e2ddd06cc36a6918c6cd865476b","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/mobile.styl","hash":"a399cf9e1e1cec3e4269066e2948d7ae5854d745","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/sidebar-aside.styl","hash":"890349df5145abf46ce7712010c89237900b3713","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/sidebar-bottom.styl","hash":"8fd4f30d319542babfd31f087ddbac550f000a8a","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/sidebar.styl","hash":"404ec059dc674a48b9ab89cd83f258dec4dcb24d","modified":1743847962520},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.js","hash":"6181412e73966696d08e1e5b1243a572d0f22ba6","modified":1743847962519},{"_id":"node_modules/hexo-theme-landscape/source/js/jquery-3.6.4.min.js","hash":"eda46747c71d38a880bee44f9a439c3858bb8f99","modified":1743847962518},{"_id":"node_modules/hexo-theme-landscape/source/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1743847962506},{"_id":"public/fileviewer/index.html","hash":"f19f2118d9fc5aa3e387db970536d9bcc7182660","modified":1743850474970},{"_id":"public/2025/04/05/hello-world/index.html","hash":"8028a6817c9ad4d55a15396e608583b488f619e8","modified":1743850474970},{"_id":"public/archives/index.html","hash":"ac2074ff272d9adfe3557915deaa3f23620f3655","modified":1743850474970},{"_id":"public/archives/2025/index.html","hash":"511750cbab0743000073d49875ec4fb396c98b04","modified":1743850474970},{"_id":"public/archives/2025/04/index.html","hash":"a496ec1c1cd20cededc0b3f5efa55c5c17fc6468","modified":1743850474970},{"_id":"public/index.html","hash":"499aa163518578402d0a55e7a67feaf61c276fec","modified":1743850474970},{"_id":"public/CNAME","hash":"a5bdbe44df5ed703c9842c79bf15b44b8a014cb2","modified":1743850474970},{"_id":"public/css/style.css","hash":"ecc329be740a220cc188ff49b02da4847cb7ee5e","modified":1743850474970},{"_id":"public/fancybox/jquery.fancybox.min.css","hash":"1be9b79be02a1cfc5d96c4a5e0feb8f472babd95","modified":1743850474970},{"_id":"public/fancybox/jquery.fancybox.min.js","hash":"6181412e73966696d08e1e5b1243a572d0f22ba6","modified":1743850474970},{"_id":"public/js/script.js","hash":"49773efcb2221bbdf2d86f3f5c5ff2d841b528cc","modified":1743850474970},{"_id":"public/js/jquery-3.6.4.min.js","hash":"eda46747c71d38a880bee44f9a439c3858bb8f99","modified":1743850474970},{"_id":"public/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1743850474970}],"Category":[],"Data":[],"Page":[{"_content":"<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>文件预览器 - LFS.baby</title>\n    <style>\n        body {\n            font-family: 'Arial', sans-serif;\n            line-height: 1.6;\n            margin: 0;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            max-width: 1200px;\n            margin: 0 auto;\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        }\n        h1 {\n            text-align: center;\n            color: #333;\n        }\n        .input-section {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 15px;\n            margin-bottom: 20px;\n        }\n        .input-group {\n            flex: 1;\n            min-width: 250px;\n        }\n        label {\n            display: block;\n            margin-bottom: 5px;\n            font-weight: bold;\n        }\n        input[type=\"text\"] {\n            width: 100%;\n            padding: 8px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n        }\n        button {\n            display: block;\n            width: 100%;\n            padding: 10px;\n            background-color: #4CAF50;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n            margin-top: 20px;\n        }\n        button:hover {\n            background-color: #45a049;\n        }\n        .preview-container {\n            margin-top: 30px;\n        }\n        .file-row {\n            display: flex;\n            margin-bottom: 15px;\n            border-bottom: 1px solid #eee;\n            padding-bottom: 15px;\n        }\n        .file-cell {\n            flex: 1;\n            padding: 10px;\n            margin: 0 5px;\n            background-color: #f9f9f9;\n            border-radius: 4px;\n        }\n        .file-name {\n            font-weight: bold;\n            margin-bottom: 5px;\n        }\n        img {\n            max-width: 100%;\n            height: auto;\n            display: block;\n            margin: 0 auto;\n        }\n        .text-content {\n            white-space: pre-wrap;\n            overflow-x: auto;\n            max-height: 200px;\n            overflow-y: auto;\n        }\n        video {\n            max-width: 100%;\n            height: auto;\n            display: block;\n            margin: 0 auto;\n        }\n        .error-message {\n            color: red;\n            margin-top: 10px;\n        }\n        .loading {\n            text-align: center;\n            padding: 20px;\n            font-style: italic;\n            color: #666;\n        }\n        .no-files {\n            text-align: center;\n            padding: 20px;\n            color: #666;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>文件对齐预览器</h1>\n        \n        <div class=\"input-section\">\n            <div class=\"input-group\">\n                <label for=\"image-dir\">图片目录：</label>\n                <input type=\"text\" id=\"image-dir\" placeholder=\"输入图片目录路径\">\n            </div>\n            \n            <div class=\"input-group\">\n                <label for=\"text-dir\">文本目录：</label>\n                <input type=\"text\" id=\"text-dir\" placeholder=\"输入文本目录路径\">\n            </div>\n            \n            <div class=\"input-group\">\n                <label for=\"video-dir\">视频目录：</label>\n                <input type=\"text\" id=\"video-dir\" placeholder=\"输入视频目录路径\">\n            </div>\n        </div>\n        \n        <button id=\"load-btn\">加载文件</button>\n        \n        <div id=\"error\" class=\"error-message\"></div>\n        \n        <div id=\"preview\" class=\"preview-container\"></div>\n    </div>\n\n    <script>\n        // API 服务器URL - 修改为您的实际服务器地址\n        const API_URL = 'http://localhost:3000';\n        \n        document.getElementById('load-btn').addEventListener('click', function() {\n            const imageDir = document.getElementById('image-dir').value.trim();\n            const textDir = document.getElementById('text-dir').value.trim();\n            const videoDir = document.getElementById('video-dir').value.trim();\n            const errorElement = document.getElementById('error');\n            const previewElement = document.getElementById('preview');\n            \n            // 清空之前的错误和预览\n            errorElement.textContent = '';\n            previewElement.innerHTML = '';\n            \n            if (!imageDir && !textDir && !videoDir) {\n                errorElement.textContent = '请至少输入一个目录路径';\n                return;\n            }\n            \n            // 显示加载中...\n            previewElement.innerHTML = '<div class=\"loading\">正在加载文件，请稍候...</div>';\n            \n            // 发送请求到服务器获取文件列表\n            fetch(`${API_URL}/api/files`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    imageDir,\n                    textDir,\n                    videoDir\n                }),\n            })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('网络响应异常');\n                }\n                return response.json();\n            })\n            .then(data => {\n                previewElement.innerHTML = '';\n                \n                if (!data.allBaseNames || data.allBaseNames.length === 0) {\n                    previewElement.innerHTML = '<div class=\"no-files\">未找到任何文件</div>';\n                    return;\n                }\n                \n                // 为每个基本文件名创建一行\n                data.allBaseNames.forEach(baseName => {\n                    createFileRow(baseName, data, imageDir, textDir, videoDir);\n                });\n            })\n            .catch(error => {\n                console.error('获取文件列表失败:', error);\n                errorElement.textContent = `获取文件列表失败: ${error.message}`;\n                previewElement.innerHTML = '';\n            });\n        });\n        \n        function createFileRow(baseName, data, imageDir, textDir, videoDir) {\n            const previewElement = document.getElementById('preview');\n            const row = document.createElement('div');\n            row.className = 'file-row';\n            \n            // 查找此基本文件名的图片\n            const image = data.images ? data.images.find(img => img.baseName === baseName) : null;\n            const imageCell = document.createElement('div');\n            imageCell.className = 'file-cell';\n            \n            if (image) {\n                const fileNameHeader = document.createElement('div');\n                fileNameHeader.className = 'file-name';\n                fileNameHeader.textContent = image.name;\n                \n                const img = document.createElement('img');\n                img.src = `${API_URL}/api/file?path=${encodeURIComponent(image.path)}`;\n                img.alt = image.name;\n                img.loading = 'lazy';\n                img.onerror = function() {\n                    this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIGZpbGw9IiM5OTkiPuWbvueJh+aXoOazlOaYvuekujwvdGV4dD48L3N2Zz4=';\n                };\n                \n                imageCell.appendChild(fileNameHeader);\n                imageCell.appendChild(img);\n            } else if (imageDir) {\n                imageCell.textContent = `未找到 ${baseName} 的图片`;\n            } else {\n                imageCell.textContent = '未指定图片目录';\n            }\n            row.appendChild(imageCell);\n            \n            // 查找此基本文件名的文本\n            const text = data.texts ? data.texts.find(txt => txt.baseName === baseName) : null;\n            const textCell = document.createElement('div');\n            textCell.className = 'file-cell';\n            \n            if (text) {\n                const fileNameHeader = document.createElement('div');\n                fileNameHeader.className = 'file-name';\n                fileNameHeader.textContent = text.name;\n                \n                const textContent = document.createElement('div');\n                textContent.className = 'text-content';\n                textContent.textContent = '加载中...';\n                \n                // 加载文本内容\n                fetch(`${API_URL}/api/text-content?path=${encodeURIComponent(text.path)}`)\n                    .then(response => {\n                        if (!response.ok) {\n                            throw new Error('获取文本内容失败');\n                        }\n                        return response.text();\n                    })\n                    .then(content => {\n                        textContent.textContent = content;\n                    })\n                    .catch(error => {\n                        textContent.textContent = `加载错误: ${error.message}`;\n                    });\n                \n                textCell.appendChild(fileNameHeader);\n                textCell.appendChild(textContent);\n            } else if (textDir) {\n                textCell.textContent = `未找到 ${baseName} 的文本文件`;\n            } else {\n                textCell.textContent = '未指定文本目录';\n            }\n            row.appendChild(textCell);\n            \n            // 查找此基本文件名的视频\n            const video = data.videos ? data.videos.find(vid => vid.baseName === baseName) : null;\n            const videoCell = document.createElement('div');\n            videoCell.className = 'file-cell';\n            \n            if (video) {\n                const fileNameHeader = document.createElement('div');\n                fileNameHeader.className = 'file-name';\n                fileNameHeader.textContent = video.name;\n                \n                const videoElement = document.createElement('video');\n                videoElement.controls = true;\n                videoElement.preload = 'metadata';\n                videoElement.src = `${API_URL}/api/file?path=${encodeURIComponent(video.path)}`;\n                videoElement.onerror = function() {\n                    videoCell.removeChild(videoElement);\n                    const errorMsg = document.createElement('div');\n                    errorMsg.textContent = '视频无法加载';\n                    videoCell.appendChild(errorMsg);\n                };\n                \n                videoCell.appendChild(fileNameHeader);\n                videoCell.appendChild(videoElement);\n            } else if (videoDir) {\n                videoCell.textContent = `未找到 ${baseName} 的视频文件`;\n            } else {\n                videoCell.textContent = '未指定视频目录';\n            }\n            row.appendChild(videoCell);\n            \n            previewElement.appendChild(row);\n        }\n    </script>\n</body>\n</html> ","source":"fileviewer/index.html","raw":"<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>文件预览器 - LFS.baby</title>\n    <style>\n        body {\n            font-family: 'Arial', sans-serif;\n            line-height: 1.6;\n            margin: 0;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            max-width: 1200px;\n            margin: 0 auto;\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        }\n        h1 {\n            text-align: center;\n            color: #333;\n        }\n        .input-section {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 15px;\n            margin-bottom: 20px;\n        }\n        .input-group {\n            flex: 1;\n            min-width: 250px;\n        }\n        label {\n            display: block;\n            margin-bottom: 5px;\n            font-weight: bold;\n        }\n        input[type=\"text\"] {\n            width: 100%;\n            padding: 8px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n        }\n        button {\n            display: block;\n            width: 100%;\n            padding: 10px;\n            background-color: #4CAF50;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n            margin-top: 20px;\n        }\n        button:hover {\n            background-color: #45a049;\n        }\n        .preview-container {\n            margin-top: 30px;\n        }\n        .file-row {\n            display: flex;\n            margin-bottom: 15px;\n            border-bottom: 1px solid #eee;\n            padding-bottom: 15px;\n        }\n        .file-cell {\n            flex: 1;\n            padding: 10px;\n            margin: 0 5px;\n            background-color: #f9f9f9;\n            border-radius: 4px;\n        }\n        .file-name {\n            font-weight: bold;\n            margin-bottom: 5px;\n        }\n        img {\n            max-width: 100%;\n            height: auto;\n            display: block;\n            margin: 0 auto;\n        }\n        .text-content {\n            white-space: pre-wrap;\n            overflow-x: auto;\n            max-height: 200px;\n            overflow-y: auto;\n        }\n        video {\n            max-width: 100%;\n            height: auto;\n            display: block;\n            margin: 0 auto;\n        }\n        .error-message {\n            color: red;\n            margin-top: 10px;\n        }\n        .loading {\n            text-align: center;\n            padding: 20px;\n            font-style: italic;\n            color: #666;\n        }\n        .no-files {\n            text-align: center;\n            padding: 20px;\n            color: #666;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>文件对齐预览器</h1>\n        \n        <div class=\"input-section\">\n            <div class=\"input-group\">\n                <label for=\"image-dir\">图片目录：</label>\n                <input type=\"text\" id=\"image-dir\" placeholder=\"输入图片目录路径\">\n            </div>\n            \n            <div class=\"input-group\">\n                <label for=\"text-dir\">文本目录：</label>\n                <input type=\"text\" id=\"text-dir\" placeholder=\"输入文本目录路径\">\n            </div>\n            \n            <div class=\"input-group\">\n                <label for=\"video-dir\">视频目录：</label>\n                <input type=\"text\" id=\"video-dir\" placeholder=\"输入视频目录路径\">\n            </div>\n        </div>\n        \n        <button id=\"load-btn\">加载文件</button>\n        \n        <div id=\"error\" class=\"error-message\"></div>\n        \n        <div id=\"preview\" class=\"preview-container\"></div>\n    </div>\n\n    <script>\n        // API 服务器URL - 修改为您的实际服务器地址\n        const API_URL = 'http://localhost:3000';\n        \n        document.getElementById('load-btn').addEventListener('click', function() {\n            const imageDir = document.getElementById('image-dir').value.trim();\n            const textDir = document.getElementById('text-dir').value.trim();\n            const videoDir = document.getElementById('video-dir').value.trim();\n            const errorElement = document.getElementById('error');\n            const previewElement = document.getElementById('preview');\n            \n            // 清空之前的错误和预览\n            errorElement.textContent = '';\n            previewElement.innerHTML = '';\n            \n            if (!imageDir && !textDir && !videoDir) {\n                errorElement.textContent = '请至少输入一个目录路径';\n                return;\n            }\n            \n            // 显示加载中...\n            previewElement.innerHTML = '<div class=\"loading\">正在加载文件，请稍候...</div>';\n            \n            // 发送请求到服务器获取文件列表\n            fetch(`${API_URL}/api/files`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    imageDir,\n                    textDir,\n                    videoDir\n                }),\n            })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('网络响应异常');\n                }\n                return response.json();\n            })\n            .then(data => {\n                previewElement.innerHTML = '';\n                \n                if (!data.allBaseNames || data.allBaseNames.length === 0) {\n                    previewElement.innerHTML = '<div class=\"no-files\">未找到任何文件</div>';\n                    return;\n                }\n                \n                // 为每个基本文件名创建一行\n                data.allBaseNames.forEach(baseName => {\n                    createFileRow(baseName, data, imageDir, textDir, videoDir);\n                });\n            })\n            .catch(error => {\n                console.error('获取文件列表失败:', error);\n                errorElement.textContent = `获取文件列表失败: ${error.message}`;\n                previewElement.innerHTML = '';\n            });\n        });\n        \n        function createFileRow(baseName, data, imageDir, textDir, videoDir) {\n            const previewElement = document.getElementById('preview');\n            const row = document.createElement('div');\n            row.className = 'file-row';\n            \n            // 查找此基本文件名的图片\n            const image = data.images ? data.images.find(img => img.baseName === baseName) : null;\n            const imageCell = document.createElement('div');\n            imageCell.className = 'file-cell';\n            \n            if (image) {\n                const fileNameHeader = document.createElement('div');\n                fileNameHeader.className = 'file-name';\n                fileNameHeader.textContent = image.name;\n                \n                const img = document.createElement('img');\n                img.src = `${API_URL}/api/file?path=${encodeURIComponent(image.path)}`;\n                img.alt = image.name;\n                img.loading = 'lazy';\n                img.onerror = function() {\n                    this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIGZpbGw9IiM5OTkiPuWbvueJh+aXoOazlOaYvuekujwvdGV4dD48L3N2Zz4=';\n                };\n                \n                imageCell.appendChild(fileNameHeader);\n                imageCell.appendChild(img);\n            } else if (imageDir) {\n                imageCell.textContent = `未找到 ${baseName} 的图片`;\n            } else {\n                imageCell.textContent = '未指定图片目录';\n            }\n            row.appendChild(imageCell);\n            \n            // 查找此基本文件名的文本\n            const text = data.texts ? data.texts.find(txt => txt.baseName === baseName) : null;\n            const textCell = document.createElement('div');\n            textCell.className = 'file-cell';\n            \n            if (text) {\n                const fileNameHeader = document.createElement('div');\n                fileNameHeader.className = 'file-name';\n                fileNameHeader.textContent = text.name;\n                \n                const textContent = document.createElement('div');\n                textContent.className = 'text-content';\n                textContent.textContent = '加载中...';\n                \n                // 加载文本内容\n                fetch(`${API_URL}/api/text-content?path=${encodeURIComponent(text.path)}`)\n                    .then(response => {\n                        if (!response.ok) {\n                            throw new Error('获取文本内容失败');\n                        }\n                        return response.text();\n                    })\n                    .then(content => {\n                        textContent.textContent = content;\n                    })\n                    .catch(error => {\n                        textContent.textContent = `加载错误: ${error.message}`;\n                    });\n                \n                textCell.appendChild(fileNameHeader);\n                textCell.appendChild(textContent);\n            } else if (textDir) {\n                textCell.textContent = `未找到 ${baseName} 的文本文件`;\n            } else {\n                textCell.textContent = '未指定文本目录';\n            }\n            row.appendChild(textCell);\n            \n            // 查找此基本文件名的视频\n            const video = data.videos ? data.videos.find(vid => vid.baseName === baseName) : null;\n            const videoCell = document.createElement('div');\n            videoCell.className = 'file-cell';\n            \n            if (video) {\n                const fileNameHeader = document.createElement('div');\n                fileNameHeader.className = 'file-name';\n                fileNameHeader.textContent = video.name;\n                \n                const videoElement = document.createElement('video');\n                videoElement.controls = true;\n                videoElement.preload = 'metadata';\n                videoElement.src = `${API_URL}/api/file?path=${encodeURIComponent(video.path)}`;\n                videoElement.onerror = function() {\n                    videoCell.removeChild(videoElement);\n                    const errorMsg = document.createElement('div');\n                    errorMsg.textContent = '视频无法加载';\n                    videoCell.appendChild(errorMsg);\n                };\n                \n                videoCell.appendChild(fileNameHeader);\n                videoCell.appendChild(videoElement);\n            } else if (videoDir) {\n                videoCell.textContent = `未找到 ${baseName} 的视频文件`;\n            } else {\n                videoCell.textContent = '未指定视频目录';\n            }\n            row.appendChild(videoCell);\n            \n            previewElement.appendChild(row);\n        }\n    </script>\n</body>\n</html> ","date":"2025-04-05T10:45:32.395Z","updated":"2025-04-05T10:13:14.792Z","path":"fileviewer/index.html","title":"","comments":1,"layout":"page","_id":"cm943jq7c0000tjkl4xpygug5","content":"<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>文件预览器 - LFS.baby</title>\n    <style>\n        body {\n            font-family: 'Arial', sans-serif;\n            line-height: 1.6;\n            margin: 0;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            max-width: 1200px;\n            margin: 0 auto;\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        }\n        h1 {\n            text-align: center;\n            color: #333;\n        }\n        .input-section {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 15px;\n            margin-bottom: 20px;\n        }\n        .input-group {\n            flex: 1;\n            min-width: 250px;\n        }\n        label {\n            display: block;\n            margin-bottom: 5px;\n            font-weight: bold;\n        }\n        input[type=\"text\"] {\n            width: 100%;\n            padding: 8px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n        }\n        button {\n            display: block;\n            width: 100%;\n            padding: 10px;\n            background-color: #4CAF50;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n            margin-top: 20px;\n        }\n        button:hover {\n            background-color: #45a049;\n        }\n        .preview-container {\n            margin-top: 30px;\n        }\n        .file-row {\n            display: flex;\n            margin-bottom: 15px;\n            border-bottom: 1px solid #eee;\n            padding-bottom: 15px;\n        }\n        .file-cell {\n            flex: 1;\n            padding: 10px;\n            margin: 0 5px;\n            background-color: #f9f9f9;\n            border-radius: 4px;\n        }\n        .file-name {\n            font-weight: bold;\n            margin-bottom: 5px;\n        }\n        img {\n            max-width: 100%;\n            height: auto;\n            display: block;\n            margin: 0 auto;\n        }\n        .text-content {\n            white-space: pre-wrap;\n            overflow-x: auto;\n            max-height: 200px;\n            overflow-y: auto;\n        }\n        video {\n            max-width: 100%;\n            height: auto;\n            display: block;\n            margin: 0 auto;\n        }\n        .error-message {\n            color: red;\n            margin-top: 10px;\n        }\n        .loading {\n            text-align: center;\n            padding: 20px;\n            font-style: italic;\n            color: #666;\n        }\n        .no-files {\n            text-align: center;\n            padding: 20px;\n            color: #666;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>文件对齐预览器</h1>\n        \n        <div class=\"input-section\">\n            <div class=\"input-group\">\n                <label for=\"image-dir\">图片目录：</label>\n                <input type=\"text\" id=\"image-dir\" placeholder=\"输入图片目录路径\">\n            </div>\n            \n            <div class=\"input-group\">\n                <label for=\"text-dir\">文本目录：</label>\n                <input type=\"text\" id=\"text-dir\" placeholder=\"输入文本目录路径\">\n            </div>\n            \n            <div class=\"input-group\">\n                <label for=\"video-dir\">视频目录：</label>\n                <input type=\"text\" id=\"video-dir\" placeholder=\"输入视频目录路径\">\n            </div>\n        </div>\n        \n        <button id=\"load-btn\">加载文件</button>\n        \n        <div id=\"error\" class=\"error-message\"></div>\n        \n        <div id=\"preview\" class=\"preview-container\"></div>\n    </div>\n\n    <script>\n        // API 服务器URL - 修改为您的实际服务器地址\n        const API_URL = 'http://localhost:3000';\n        \n        document.getElementById('load-btn').addEventListener('click', function() {\n            const imageDir = document.getElementById('image-dir').value.trim();\n            const textDir = document.getElementById('text-dir').value.trim();\n            const videoDir = document.getElementById('video-dir').value.trim();\n            const errorElement = document.getElementById('error');\n            const previewElement = document.getElementById('preview');\n            \n            // 清空之前的错误和预览\n            errorElement.textContent = '';\n            previewElement.innerHTML = '';\n            \n            if (!imageDir && !textDir && !videoDir) {\n                errorElement.textContent = '请至少输入一个目录路径';\n                return;\n            }\n            \n            // 显示加载中...\n            previewElement.innerHTML = '<div class=\"loading\">正在加载文件，请稍候...</div>';\n            \n            // 发送请求到服务器获取文件列表\n            fetch(`${API_URL}/api/files`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    imageDir,\n                    textDir,\n                    videoDir\n                }),\n            })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('网络响应异常');\n                }\n                return response.json();\n            })\n            .then(data => {\n                previewElement.innerHTML = '';\n                \n                if (!data.allBaseNames || data.allBaseNames.length === 0) {\n                    previewElement.innerHTML = '<div class=\"no-files\">未找到任何文件</div>';\n                    return;\n                }\n                \n                // 为每个基本文件名创建一行\n                data.allBaseNames.forEach(baseName => {\n                    createFileRow(baseName, data, imageDir, textDir, videoDir);\n                });\n            })\n            .catch(error => {\n                console.error('获取文件列表失败:', error);\n                errorElement.textContent = `获取文件列表失败: ${error.message}`;\n                previewElement.innerHTML = '';\n            });\n        });\n        \n        function createFileRow(baseName, data, imageDir, textDir, videoDir) {\n            const previewElement = document.getElementById('preview');\n            const row = document.createElement('div');\n            row.className = 'file-row';\n            \n            // 查找此基本文件名的图片\n            const image = data.images ? data.images.find(img => img.baseName === baseName) : null;\n            const imageCell = document.createElement('div');\n            imageCell.className = 'file-cell';\n            \n            if (image) {\n                const fileNameHeader = document.createElement('div');\n                fileNameHeader.className = 'file-name';\n                fileNameHeader.textContent = image.name;\n                \n                const img = document.createElement('img');\n                img.src = `${API_URL}/api/file?path=${encodeURIComponent(image.path)}`;\n                img.alt = image.name;\n                img.loading = 'lazy';\n                img.onerror = function() {\n                    this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIGZpbGw9IiM5OTkiPuWbvueJh+aXoOazlOaYvuekujwvdGV4dD48L3N2Zz4=';\n                };\n                \n                imageCell.appendChild(fileNameHeader);\n                imageCell.appendChild(img);\n            } else if (imageDir) {\n                imageCell.textContent = `未找到 ${baseName} 的图片`;\n            } else {\n                imageCell.textContent = '未指定图片目录';\n            }\n            row.appendChild(imageCell);\n            \n            // 查找此基本文件名的文本\n            const text = data.texts ? data.texts.find(txt => txt.baseName === baseName) : null;\n            const textCell = document.createElement('div');\n            textCell.className = 'file-cell';\n            \n            if (text) {\n                const fileNameHeader = document.createElement('div');\n                fileNameHeader.className = 'file-name';\n                fileNameHeader.textContent = text.name;\n                \n                const textContent = document.createElement('div');\n                textContent.className = 'text-content';\n                textContent.textContent = '加载中...';\n                \n                // 加载文本内容\n                fetch(`${API_URL}/api/text-content?path=${encodeURIComponent(text.path)}`)\n                    .then(response => {\n                        if (!response.ok) {\n                            throw new Error('获取文本内容失败');\n                        }\n                        return response.text();\n                    })\n                    .then(content => {\n                        textContent.textContent = content;\n                    })\n                    .catch(error => {\n                        textContent.textContent = `加载错误: ${error.message}`;\n                    });\n                \n                textCell.appendChild(fileNameHeader);\n                textCell.appendChild(textContent);\n            } else if (textDir) {\n                textCell.textContent = `未找到 ${baseName} 的文本文件`;\n            } else {\n                textCell.textContent = '未指定文本目录';\n            }\n            row.appendChild(textCell);\n            \n            // 查找此基本文件名的视频\n            const video = data.videos ? data.videos.find(vid => vid.baseName === baseName) : null;\n            const videoCell = document.createElement('div');\n            videoCell.className = 'file-cell';\n            \n            if (video) {\n                const fileNameHeader = document.createElement('div');\n                fileNameHeader.className = 'file-name';\n                fileNameHeader.textContent = video.name;\n                \n                const videoElement = document.createElement('video');\n                videoElement.controls = true;\n                videoElement.preload = 'metadata';\n                videoElement.src = `${API_URL}/api/file?path=${encodeURIComponent(video.path)}`;\n                videoElement.onerror = function() {\n                    videoCell.removeChild(videoElement);\n                    const errorMsg = document.createElement('div');\n                    errorMsg.textContent = '视频无法加载';\n                    videoCell.appendChild(errorMsg);\n                };\n                \n                videoCell.appendChild(fileNameHeader);\n                videoCell.appendChild(videoElement);\n            } else if (videoDir) {\n                videoCell.textContent = `未找到 ${baseName} 的视频文件`;\n            } else {\n                videoCell.textContent = '未指定视频目录';\n            }\n            row.appendChild(videoCell);\n            \n            previewElement.appendChild(row);\n        }\n    </script>\n</body>\n</html> ","excerpt":"","more":"<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>文件预览器 - LFS.baby</title>\n    <style>\n        body {\n            font-family: 'Arial', sans-serif;\n            line-height: 1.6;\n            margin: 0;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            max-width: 1200px;\n            margin: 0 auto;\n            background-color: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        }\n        h1 {\n            text-align: center;\n            color: #333;\n        }\n        .input-section {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 15px;\n            margin-bottom: 20px;\n        }\n        .input-group {\n            flex: 1;\n            min-width: 250px;\n        }\n        label {\n            display: block;\n            margin-bottom: 5px;\n            font-weight: bold;\n        }\n        input[type=\"text\"] {\n            width: 100%;\n            padding: 8px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n        }\n        button {\n            display: block;\n            width: 100%;\n            padding: 10px;\n            background-color: #4CAF50;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n            margin-top: 20px;\n        }\n        button:hover {\n            background-color: #45a049;\n        }\n        .preview-container {\n            margin-top: 30px;\n        }\n        .file-row {\n            display: flex;\n            margin-bottom: 15px;\n            border-bottom: 1px solid #eee;\n            padding-bottom: 15px;\n        }\n        .file-cell {\n            flex: 1;\n            padding: 10px;\n            margin: 0 5px;\n            background-color: #f9f9f9;\n            border-radius: 4px;\n        }\n        .file-name {\n            font-weight: bold;\n            margin-bottom: 5px;\n        }\n        img {\n            max-width: 100%;\n            height: auto;\n            display: block;\n            margin: 0 auto;\n        }\n        .text-content {\n            white-space: pre-wrap;\n            overflow-x: auto;\n            max-height: 200px;\n            overflow-y: auto;\n        }\n        video {\n            max-width: 100%;\n            height: auto;\n            display: block;\n            margin: 0 auto;\n        }\n        .error-message {\n            color: red;\n            margin-top: 10px;\n        }\n        .loading {\n            text-align: center;\n            padding: 20px;\n            font-style: italic;\n            color: #666;\n        }\n        .no-files {\n            text-align: center;\n            padding: 20px;\n            color: #666;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>文件对齐预览器</h1>\n        \n        <div class=\"input-section\">\n            <div class=\"input-group\">\n                <label for=\"image-dir\">图片目录：</label>\n                <input type=\"text\" id=\"image-dir\" placeholder=\"输入图片目录路径\">\n            </div>\n            \n            <div class=\"input-group\">\n                <label for=\"text-dir\">文本目录：</label>\n                <input type=\"text\" id=\"text-dir\" placeholder=\"输入文本目录路径\">\n            </div>\n            \n            <div class=\"input-group\">\n                <label for=\"video-dir\">视频目录：</label>\n                <input type=\"text\" id=\"video-dir\" placeholder=\"输入视频目录路径\">\n            </div>\n        </div>\n        \n        <button id=\"load-btn\">加载文件</button>\n        \n        <div id=\"error\" class=\"error-message\"></div>\n        \n        <div id=\"preview\" class=\"preview-container\"></div>\n    </div>\n\n    <script>\n        // API 服务器URL - 修改为您的实际服务器地址\n        const API_URL = 'http://localhost:3000';\n        \n        document.getElementById('load-btn').addEventListener('click', function() {\n            const imageDir = document.getElementById('image-dir').value.trim();\n            const textDir = document.getElementById('text-dir').value.trim();\n            const videoDir = document.getElementById('video-dir').value.trim();\n            const errorElement = document.getElementById('error');\n            const previewElement = document.getElementById('preview');\n            \n            // 清空之前的错误和预览\n            errorElement.textContent = '';\n            previewElement.innerHTML = '';\n            \n            if (!imageDir && !textDir && !videoDir) {\n                errorElement.textContent = '请至少输入一个目录路径';\n                return;\n            }\n            \n            // 显示加载中...\n            previewElement.innerHTML = '<div class=\"loading\">正在加载文件，请稍候...</div>';\n            \n            // 发送请求到服务器获取文件列表\n            fetch(`${API_URL}/api/files`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    imageDir,\n                    textDir,\n                    videoDir\n                }),\n            })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('网络响应异常');\n                }\n                return response.json();\n            })\n            .then(data => {\n                previewElement.innerHTML = '';\n                \n                if (!data.allBaseNames || data.allBaseNames.length === 0) {\n                    previewElement.innerHTML = '<div class=\"no-files\">未找到任何文件</div>';\n                    return;\n                }\n                \n                // 为每个基本文件名创建一行\n                data.allBaseNames.forEach(baseName => {\n                    createFileRow(baseName, data, imageDir, textDir, videoDir);\n                });\n            })\n            .catch(error => {\n                console.error('获取文件列表失败:', error);\n                errorElement.textContent = `获取文件列表失败: ${error.message}`;\n                previewElement.innerHTML = '';\n            });\n        });\n        \n        function createFileRow(baseName, data, imageDir, textDir, videoDir) {\n            const previewElement = document.getElementById('preview');\n            const row = document.createElement('div');\n            row.className = 'file-row';\n            \n            // 查找此基本文件名的图片\n            const image = data.images ? data.images.find(img => img.baseName === baseName) : null;\n            const imageCell = document.createElement('div');\n            imageCell.className = 'file-cell';\n            \n            if (image) {\n                const fileNameHeader = document.createElement('div');\n                fileNameHeader.className = 'file-name';\n                fileNameHeader.textContent = image.name;\n                \n                const img = document.createElement('img');\n                img.src = `${API_URL}/api/file?path=${encodeURIComponent(image.path)}`;\n                img.alt = image.name;\n                img.loading = 'lazy';\n                img.onerror = function() {\n                    this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIGZpbGw9IiM5OTkiPuWbvueJh+aXoOazlOaYvuekujwvdGV4dD48L3N2Zz4=';\n                };\n                \n                imageCell.appendChild(fileNameHeader);\n                imageCell.appendChild(img);\n            } else if (imageDir) {\n                imageCell.textContent = `未找到 ${baseName} 的图片`;\n            } else {\n                imageCell.textContent = '未指定图片目录';\n            }\n            row.appendChild(imageCell);\n            \n            // 查找此基本文件名的文本\n            const text = data.texts ? data.texts.find(txt => txt.baseName === baseName) : null;\n            const textCell = document.createElement('div');\n            textCell.className = 'file-cell';\n            \n            if (text) {\n                const fileNameHeader = document.createElement('div');\n                fileNameHeader.className = 'file-name';\n                fileNameHeader.textContent = text.name;\n                \n                const textContent = document.createElement('div');\n                textContent.className = 'text-content';\n                textContent.textContent = '加载中...';\n                \n                // 加载文本内容\n                fetch(`${API_URL}/api/text-content?path=${encodeURIComponent(text.path)}`)\n                    .then(response => {\n                        if (!response.ok) {\n                            throw new Error('获取文本内容失败');\n                        }\n                        return response.text();\n                    })\n                    .then(content => {\n                        textContent.textContent = content;\n                    })\n                    .catch(error => {\n                        textContent.textContent = `加载错误: ${error.message}`;\n                    });\n                \n                textCell.appendChild(fileNameHeader);\n                textCell.appendChild(textContent);\n            } else if (textDir) {\n                textCell.textContent = `未找到 ${baseName} 的文本文件`;\n            } else {\n                textCell.textContent = '未指定文本目录';\n            }\n            row.appendChild(textCell);\n            \n            // 查找此基本文件名的视频\n            const video = data.videos ? data.videos.find(vid => vid.baseName === baseName) : null;\n            const videoCell = document.createElement('div');\n            videoCell.className = 'file-cell';\n            \n            if (video) {\n                const fileNameHeader = document.createElement('div');\n                fileNameHeader.className = 'file-name';\n                fileNameHeader.textContent = video.name;\n                \n                const videoElement = document.createElement('video');\n                videoElement.controls = true;\n                videoElement.preload = 'metadata';\n                videoElement.src = `${API_URL}/api/file?path=${encodeURIComponent(video.path)}`;\n                videoElement.onerror = function() {\n                    videoCell.removeChild(videoElement);\n                    const errorMsg = document.createElement('div');\n                    errorMsg.textContent = '视频无法加载';\n                    videoCell.appendChild(errorMsg);\n                };\n                \n                videoCell.appendChild(fileNameHeader);\n                videoCell.appendChild(videoElement);\n            } else if (videoDir) {\n                videoCell.textContent = `未找到 ${baseName} 的视频文件`;\n            } else {\n                videoCell.textContent = '未指定视频目录';\n            }\n            row.appendChild(videoCell);\n            \n            previewElement.appendChild(row);\n        }\n    </script>\n</body>\n</html> "}],"Post":[{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"date":"2025-04-05T10:12:23.971Z","updated":"2025-04-05T10:12:23.971Z","comments":1,"layout":"post","photos":[],"_id":"cm943jq7d0001tjkl7v83ditn","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[],"Tag":[]}}